!function(){var m=window.AmCharts;m.AmRectangularChart=m.Class({inherits:m.AmCoordinateChart,construct:function(t){m.AmRectangularChart.base.construct.call(this,t),this.theme=t,this.createEvents("zoomed","changed"),this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=20,this.depth3D=this.angle=0,this.plotAreaFillColors="#FFFFFF",this.plotAreaFillAlphas=0,this.plotAreaBorderColor="#000000",this.plotAreaBorderAlpha=0,this.maxZoomFactor=20,this.zoomOutButtonImageSize=19,this.zoomOutButtonImage="lens",this.zoomOutText="Show all",this.zoomOutButtonColor="#e5e5e5",this.zoomOutButtonAlpha=0,this.zoomOutButtonRollOverAlpha=1,this.zoomOutButtonPadding=8,this.trendLines=[],this.autoMargins=!0,this.marginsUpdated=!1,this.autoMarginOffset=10,m.applyTheme(this,t,"AmRectangularChart")},initChart:function(){m.AmRectangularChart.base.initChart.call(this),this.updateDxy(),!this.marginsUpdated&&this.autoMargins&&(this.resetMargins(),this.drawGraphs=!1),this.processScrollbars(),this.updateMargins(),this.updatePlotArea(),this.updateScrollbars(),this.updateTrendLines(),this.updateChartCursor(),this.updateValueAxes(),this.scrollbarOnly||this.updateGraphs()},drawChart:function(){var t;m.AmRectangularChart.base.drawChart.call(this),this.drawPlotArea(),m.ifArray(this.chartData)&&(t=this.chartCursor)&&t.draw()},resetMargins:function(){var t={};if("xy"==this.type){for(var i=this.xAxes,e=this.yAxes,a=0;a<i.length;a++){var s=i[a];s.ignoreAxisWidth||(s.setOrientation(!0),s.fixAxisPosition(),t[s.position]=!0)}for(a=0;a<e.length;a++)(i=e[a]).ignoreAxisWidth||(i.setOrientation(!1),i.fixAxisPosition(),t[i.position]=!0)}else{for(e=this.valueAxes,a=0;a<e.length;a++)(i=e[a]).ignoreAxisWidth||(i.setOrientation(this.rotate),i.fixAxisPosition(),t[i.position]=!0);(a=this.categoryAxis)&&!a.ignoreAxisWidth&&(a.setOrientation(!this.rotate),a.fixAxisPosition(),a.fixAxisPosition(),t[a.position]=!0)}t.left&&(this.marginLeft=0),t.right&&(this.marginRight=0),t.top&&(this.marginTop=0),t.bottom&&(this.marginBottom=0),this.fixMargins=t},measureMargins:function(){for(var t=this.valueAxes,i=this.autoMarginOffset,e=this.fixMargins,a=this.realWidth,s=this.realHeight,o=i,h=i,r=a,n=s,l=0;l<t.length;l++)t[l].handleSynchronization(),n=this.getAxisBounds(t[l],o,r,h,n),o=Math.round(n.l),r=Math.round(n.r),h=Math.round(n.t),n=Math.round(n.b);(t=this.categoryAxis)&&(n=this.getAxisBounds(t,o,r,h,n),o=Math.round(n.l),r=Math.round(n.r),h=Math.round(n.t),n=Math.round(n.b)),e.left&&o<i&&(this.marginLeft=Math.round(-o+i),!isNaN(this.minMarginLeft))&&this.marginLeft<this.minMarginLeft&&(this.marginLeft=this.minMarginLeft),e.right&&a-i<=r&&(this.marginRight=Math.round(r-a+i),!isNaN(this.minMarginRight))&&this.marginRight<this.minMarginRight&&(this.marginRight=this.minMarginRight),e.top&&h<i+this.titleHeight&&(this.marginTop=Math.round(this.marginTop-h+i+this.titleHeight),!isNaN(this.minMarginTop))&&this.marginTop<this.minMarginTop&&(this.marginTop=this.minMarginTop),e.bottom&&s-i<n&&(this.marginBottom=Math.round(this.marginBottom+n-s+i),!isNaN(this.minMarginBottom))&&this.marginBottom<this.minMarginBottom&&(this.marginBottom=this.minMarginBottom),this.initChart()},getAxisBounds:function(t,i,e,a,s){if(!t.ignoreAxisWidth){var o=t.labelsSet,h=t.tickLength;if(t.inside&&(h=0),o)switch(o=t.getBBox(),t.position){case"top":(t=o.y)<a&&(a=t);break;case"bottom":s<(t=o.y+o.height)&&(s=t);break;case"right":e<(t=o.x+o.width+h+3)&&(e=t);break;case"left":(t=o.x-h)<i&&(i=t)}}return{l:i,t:a,r:e,b:s}},drawZoomOutButton:function(){var i=this;if(!i.zbSet){var t=i.container.set(),e=(i.zoomButtonSet.push(t),i.color),a=i.fontSize,s=i.zoomOutButtonImageSize,o=i.zoomOutButtonImage.replace(/\.[a-z]*$/i,""),h=i.langObj.zoomOutText||i.zoomOutText,r=i.zoomOutButtonColor,n=i.zoomOutButtonAlpha,l=i.zoomOutButtonFontSize,d=i.zoomOutButtonPadding;isNaN(l)||(a=l),(l=i.zoomOutButtonFontColor)&&(e=l);(l=i.zoomOutButton)&&(l.fontSize&&(a=l.fontSize),l.color&&(e=l.color),l.backgroundColor&&(r=l.backgroundColor),isNaN(l.backgroundAlpha)||(i.zoomOutButtonRollOverAlpha=l.backgroundAlpha));var u,c=l=0,c=i.pathToImages;for(o&&(!m.isAbsolute(o)&&void 0!==c||(c=""),u=i.container.image(c+o+i.extension,0,0,s,s),m.setCN(i,u,"zoom-out-image"),t.push(u),l=(u=u.getBBox()).width+5),void 0!==h&&(e=m.text(i.container,h,e,i.fontFamily,a,"start"),m.setCN(i,e,"zoom-out-label"),a=e.getBBox(),c=u?u.height/2-3:a.height/2,e.translate(l,c),t.push(e)),u=t.getBBox(),e=1,m.isModern||(e=0),(r=m.rect(i.container,u.width+2*d+5,u.height+2*d-2,r,1,1,r,e)).setAttr("opacity",n),r.translate(-d,-d),m.setCN(i,r,"zoom-out-bg"),t.push(r),r.toBack(),u=(i.zbBG=r).getBBox(),t.translate(i.marginLeftReal+i.plotAreaWidth-u.width+d,i.marginTopReal+d),t.hide(),t.mouseover(function(){i.rollOverZB()}).mouseout(function(){i.rollOutZB()}).click(function(){i.clickZB()}).touchstart(function(){i.rollOverZB()}).touchend(function(){i.rollOutZB(),i.clickZB()}),n=0;n<t.length;n++)t[n].attr({cursor:"pointer"});void 0!==i.zoomOutButtonTabIndex&&(t.setAttr("tabindex",i.zoomOutButtonTabIndex),t.setAttr("role","menuitem"),t.keyup(function(t){13==t.keyCode&&i.clickZB()})),i.zbSet=t}},rollOverZB:function(){this.rolledOverZB=!0,this.zbBG.setAttr("opacity",this.zoomOutButtonRollOverAlpha)},rollOutZB:function(){this.rolledOverZB=!1,this.zbBG.setAttr("opacity",this.zoomOutButtonAlpha)},clickZB:function(){this.rolledOverZB=!1,this.zoomOut()},zoomOut:function(){this.zoomOutValueAxes()},drawPlotArea:function(){var t=this.dx,i=this.dy,e=this.marginLeftReal,a=this.marginTopReal,s=this.plotAreaWidth-1,o=this.plotAreaHeight-1,h=this.plotAreaFillColors,r=this.plotAreaFillAlphas,n=this.plotAreaBorderColor,l=this.plotAreaBorderAlpha;"object"==typeof r&&(r=r[0]),h=m.polygon(this.container,[0,s,s,0,0],[0,0,o,o,0],h,r,1,n,l,this.plotAreaGradientAngle),m.setCN(this,h,"plot-area"),h.translate(e+t,a+i),this.set.push(h),0!==t&&0!==i&&("object"==typeof(h=this.plotAreaFillColors)&&(h=h[0]),h=m.adjustLuminosity(h,-.15),s=m.polygon(this.container,[0,t,s+t,s,0],[0,i,i,0,0],h,r,1,n,l),m.setCN(this,s,"plot-area-bottom"),s.translate(e,a+o),this.set.push(s),t=m.polygon(this.container,[0,0,t,t,0],[0,o,o+i,i,0],h,r,1,n,l),m.setCN(this,t,"plot-area-left"),t.translate(e,a),this.set.push(t)),(e=this.bbset)&&this.scrollbarOnly&&e.remove()},updatePlotArea:function(){var t=this.updateWidth(),i=this.updateHeight(),e=this.container,e=(this.realWidth=t,this.realWidth=i,e&&this.container.setSize(t,i),this.marginLeftReal),a=this.marginTopReal;(t=t-e-this.marginRightReal-this.dx)<1&&(t=1),(i=i-a-this.marginBottomReal)<1&&(i=1),this.plotAreaWidth=Math.round(t),this.plotAreaHeight=Math.round(i),this.plotBalloonsSet.translate(e,a)},updateDxy:function(){this.dx=Math.round(this.depth3D*Math.cos(this.angle*Math.PI/180)),this.dy=Math.round(-this.depth3D*Math.sin(this.angle*Math.PI/180)),this.d3x=Math.round(this.columnSpacing3D*Math.cos(this.angle*Math.PI/180)),this.d3y=Math.round(-this.columnSpacing3D*Math.sin(this.angle*Math.PI/180))},updateMargins:function(){var t=this.getTitleHeight();this.titleHeight=t,this.marginTopReal=this.marginTop-this.dy,this.fixMargins&&!this.fixMargins.top&&(this.marginTopReal+=t),this.marginBottomReal=this.marginBottom,this.marginLeftReal=this.marginLeft,this.marginRightReal=this.marginRight},updateValueAxes:function(){for(var t=this.valueAxes,i=0;i<t.length;i++){var e=t[i];this.setAxisRenderers(e),this.updateObjectSize(e)}},setAxisRenderers:function(t){t.axisRenderer=m.RecAxis,t.guideFillRenderer=m.RecFill,t.axisItemRenderer=m.RecItem,t.marginsChanged=!0},updateGraphs:function(){for(var t=this.graphs,i=0;i<t.length;i++){var e=t[i];e.index=i,e.rotate=this.rotate,this.updateObjectSize(e)}},updateObjectSize:function(t){t.width=this.plotAreaWidth-1,t.height=this.plotAreaHeight-1,t.x=this.marginLeftReal,t.y=this.marginTopReal,t.dx=this.dx,t.dy=this.dy},updateChartCursor:function(){var t=this.chartCursor;t&&(t=m.processObject(t,m.ChartCursor,this.theme),this.updateObjectSize(t),this.addChartCursor(t),t.chart=this)},processScrollbars:function(){var t=this.chartScrollbar;t&&(t=m.processObject(t,m.ChartScrollbar,this.theme),this.addChartScrollbar(t))},updateScrollbars:function(){},removeChartCursor:function(){m.callMethod("destroy",[this.chartCursor]),this.chartCursor=null},zoomTrendLines:function(){for(var t=this.trendLines,i=0;i<t.length;i++){var e=t[i];e.valueAxis.recalculateToPercents?e.set&&e.set.hide():(e.x=this.marginLeftReal,e.y=this.marginTopReal,e.draw())}},handleCursorValueZoom:function(){},addTrendLine:function(t){this.trendLines.push(t)},zoomOutValueAxes:function(){for(var t=this.valueAxes,i=0;i<t.length;i++)t[i].zoomOut()},removeTrendLine:function(t){for(var i=this.trendLines,e=i.length-1;0<=e;e--)i[e]==t&&i.splice(e,1)},adjustMargins:function(t,i){var e=t.position,a=t.scrollbarHeight+t.offset;t.enabled&&("top"==e?i?this.marginLeftReal+=a:this.marginTopReal+=a:i?this.marginRightReal+=a:this.marginBottomReal+=a)},getScrollbarPosition:function(t,i,e){var a="bottom",s="top";t.oppositeAxis||(s=a,a="top"),t.position=i?"bottom"==e||"left"==e?a:s:"top"==e||"right"==e?a:s},updateChartScrollbar:function(t,i){var e,a,s,o,h,r;t&&(t.rotate=i,e=this.marginTopReal,a=this.marginLeftReal,s=t.scrollbarHeight,o=this.dx,h=this.dy,r=t.offset,"top"==t.position?i?(t.y=e,t.x=a-s-r):(t.y=e-s+h-r,t.x=a+o):i?(t.y=e+h,t.x=a+this.plotAreaWidth+o+r):(t.y=e+this.plotAreaHeight+r,t.x=this.marginLeftReal))},showZB:function(t){var i=this.zbSet;t&&""!==(i=this.zoomOutText)&&i&&this.drawZoomOutButton(),(i=this.zbSet)&&(this.zoomButtonSet.push(i),t?i.show():i.hide(),this.rollOutZB())},handleReleaseOutside:function(t){m.AmRectangularChart.base.handleReleaseOutside.call(this,t),(t=this.chartCursor)&&t.handleReleaseOutside&&t.handleReleaseOutside()},handleMouseDown:function(t){m.AmRectangularChart.base.handleMouseDown.call(this,t);var i=this.chartCursor;i&&i.handleMouseDown&&!this.rolledOverZB&&i.handleMouseDown(t)},update:function(){m.AmRectangularChart.base.update.call(this),this.chartCursor&&this.chartCursor.update&&this.chartCursor.update()},handleScrollbarValueZoom:function(t){this.relativeZoomValueAxes(t.target.valueAxes,t.relativeStart,t.relativeEnd),this.zoomAxesAndGraphs()},zoomValueScrollbar:function(t){var i,e,a;t&&t.enabled&&(e=(i=t.valueAxes[0]).relativeStart,a=i.relativeEnd,i.reversed&&(a=1-e,e=1-i.relativeEnd),t.percentZoom(e,a))},zoomAxesAndGraphs:function(){if(!this.scrollbarOnly){for(var t=this.valueAxes,i=0;i<t.length;i++)t[i].zoom(this.start,this.end);for(t=this.graphs,i=0;i<t.length;i++)t[i].zoom(this.start,this.end);(i=this.chartCursor)&&i.clearSelection(),this.zoomTrendLines()}},handleValueAxisZoomReal:function(t,i){var e,a=t.relativeStart,t=t.relativeEnd;t<a&&(e=a,a=t,t=e),this.relativeZoomValueAxes(i,a,t),this.updateAfterValueZoom()},updateAfterValueZoom:function(){this.zoomAxesAndGraphs(),this.zoomScrollbar()},relativeZoomValueAxes:function(t,i,e){this.hideBalloonReal(),i=m.fitToBounds(i,0,1),(e=m.fitToBounds(e,0,1))<i&&(a=i,i=e,e=a);var a=1/this.maxZoomFactor,s=m.getDecimals(a)+4;if(e-i<a&&(i=(e=i+(e-i)/2)-a/2,1<(e+=a/2)&&(i-=e-1,e=1),i<0)&&(i=0,e=a),i=m.roundTo(i,s),e=m.roundTo(e,s),a=!1,t){for(s=0;s<t.length;s++){var o=t[s].zoomToRelativeValues(i,e,!0);o&&(a=o)}this.showZB()}return a},addChartCursor:function(t){m.callMethod("destroy",[this.chartCursor]),t&&(this.listenTo(t,"moved",this.handleCursorMove),this.listenTo(t,"zoomed",this.handleCursorZoom),this.listenTo(t,"zoomStarted",this.handleCursorZoomStarted),this.listenTo(t,"panning",this.handleCursorPanning),this.listenTo(t,"onHideCursor",this.handleCursorHide)),this.chartCursor=t},handleCursorChange:function(){},handleCursorMove:function(t){for(var i,e=this.valueAxes,a=0;a<e.length;a++)t.panning||(i=e[a])&&i.showBalloon&&i.showBalloon(t.x,t.y)},handleCursorZoom:function(t){var i,e,a,s,o,h,r,n;this.skipZoomed?this.skipZoomed=!1:(i=this.startX0,e=this.endX0,a=this.endY0,s=this.startY0,o=t.startX,h=t.endX,r=t.startY,n=t.endY,this.startX0=this.endX0=this.startY0=this.endY0=NaN,this.handleCursorZoomReal(i+o*(e-i),i+h*(e-i),s+r*(a-s),s+n*(a-s),t))},handleCursorHide:function(){for(var t=this.valueAxes,i=0;i<t.length;i++)t[i].hideBalloon();for(t=this.graphs,i=0;i<t.length;i++)t[i].hideBalloonReal()}})}(),function(){var M=window.AmCharts;M.AmSerialChart=M.Class({inherits:M.AmRectangularChart,construct:function(t){this.type="serial",M.AmSerialChart.base.construct.call(this,t),this.cname="AmSerialChart",this.theme=t,this.columnSpacing=5,this.columnSpacing3D=0,this.columnWidth=.8;var i=new M.CategoryAxis(t);(i.chart=this).categoryAxis=i,this.zoomOutOnDataUpdate=!0,this.mouseWheelZoomEnabled=this.mouseWheelScrollEnabled=this.rotate=this.skipZoom=!1,this.minSelectedTime=0,M.applyTheme(this,t,this.cname)},initChart:function(){M.AmSerialChart.base.initChart.call(this),this.updateCategoryAxis(this.categoryAxis,this.rotate,"categoryAxis"),this.dataChanged?this.parseData():this.onDataUpdated(),this.drawGraphs=!0},onDataUpdated:function(){for(var t=this.countColumns(),i=this.chartData,e=this.graphs,a=0;a<e.length;a++){var s=e[a];s.data=i,s.columnCount=t}0<i.length&&(this.firstTime=this.getStartTime(i[0].time),this.lastTime=this.getEndTime(i[i.length-1].time)),this.drawChart(),this.autoMargins&&!this.marginsUpdated?(this.marginsUpdated=!0,this.measureMargins()):this.dispDUpd()},syncGrid:function(){if(this.synchronizeGrid){var t=this.valueAxes;if(0<t.length){for(var i=0,e=0;e<t.length;e++)i<(o=t[e]).gridCountReal&&(i=o.gridCountReal);var a,s,o,h=!1;for(e=0;e<t.length;e++)(o=t[e]).gridCountReal<i&&(0!=(s=h=a=(i-o.gridCountReal)/2)-Math.round(a)&&(h-=.5,s+=.5),0<=o.min&&o.min-h*o.step<0&&(s+=h,h=0),o.max<=0&&0<o.max+s*o.step&&(h+=s,s=0),a=M.getDecimals(o.step),o.minimum=M.roundTo(o.min-h*o.step,a),o.maximum=M.roundTo(o.max+s*o.step,a),o.setStep=o.step,h=o.strictMinMax=!0);for(h&&this.updateAfterValueZoom(),e=0;e<t.length;e++)(o=t[e]).minimum=NaN,o.maximum=NaN,o.setStep=NaN,o.strictMinMax=!1}}},handleWheelReal:function(t,i){var e,a,s,o,h,r;this.wheelBusy||(a=(e=this.categoryAxis).parseDates,s=e.minDuration(),h=o=1,this.mouseWheelZoomEnabled?i||(o=-1):i&&(o=-1),(i=this.chartCursor)&&(r=i.mouseX,i=i.mouseY,o!=h&&(o*=r=this.rotate?i/this.plotAreaHeight:r/this.plotAreaWidth,h*=1-r),r=.05*(this.end-this.start),o*=r=(r=a?.05*(this.endTime-this.startTime)/s:r)<1?1:r,h*=r,a&&!e.equalSpacing||(o=Math.round(o),h=Math.round(h))),i=this.chartData.length,e=this.lastTime,r=this.firstTime,t<0?a?(i=this.endTime-this.startTime,a=this.startTime+o*s,s=this.endTime+h*s,0<h&&0<o&&e<=s&&(a=(s=e)-i),this.zoomToDates(new Date(a),new Date(s))):(0<h&&0<o&&this.end>=i-1&&(o=h=0),a=this.start+o,s=this.end+h,this.zoomToIndexes(a,s)):a?(i=this.endTime-this.startTime,a=this.startTime-o*s,s=this.endTime-h*s,0<h&&0<o&&a<=r&&(s=(a=r)+i),this.zoomToDates(new Date(a),new Date(s))):(0<h&&0<o&&this.start<1&&(o=h=0),a=this.start-o,s=this.end-h,this.zoomToIndexes(a,s)))},validateData:function(t){this.marginsUpdated=!1,this.zoomOutOnDataUpdate&&!t&&(this.endTime=this.end=this.startTime=this.start=NaN),M.AmSerialChart.base.validateData.call(this)},drawChart:function(){var t,i,e,a;0<this.realWidth&&0<this.realHeight?(M.AmSerialChart.base.drawChart.call(this),t=this.chartData,M.ifArray(t)&&(!(i=this.chartScrollbar)||!this.marginsUpdated&&this.autoMargins||i.draw(),(i=this.valueScrollbar)&&i.draw(),i=t.length-1,(a=this.categoryAxis).parseDates&&!a.equalSpacing?(a=this.startTime,e=this.endTime,(isNaN(a)||isNaN(e))&&(a=this.firstTime,e=this.lastTime)):(a=this.start,e=this.end,(isNaN(a)||isNaN(e))&&(e=a=NaN),isNaN(a)&&!isNaN(this.startTime)&&(a=this.getClosestIndex(t,"time",this.startTime,!0,0,t.length)),isNaN(e)&&!isNaN(this.endTime)&&(e=this.getClosestIndex(t,"time",this.endTime,!1,0,t.length)),(isNaN(a)||isNaN(e))&&(a=0,e=i)),this.endTime=this.startTime=this.end=this.start=void 0,this.zoom(a,e))):this.cleanChart()},cleanChart:function(){M.callMethod("destroy",[this.valueAxes,this.graphs,this.categoryAxis,this.chartScrollbar,this.chartCursor,this.valueScrollbar])},updateCategoryAxis:function(t,i,e){t.chart=this,t.id=e,t.rotate=i,t.setOrientation(!this.rotate),t.init(),this.setAxisRenderers(t),this.updateObjectSize(t)},updateValueAxes:function(){M.AmSerialChart.base.updateValueAxes.call(this);for(var t=this.valueAxes,i=0;i<t.length;i++){var e=t[i],a=this.rotate;e.rotate=a,e.setOrientation(a),(a=this.categoryAxis).startOnAxis&&!a.parseDates||(e.expandMinMax=!0)}},getStartTime:function(t){var i=this.categoryAxis;return M.resetDateToMin(new Date(t),i.minPeriod,1,i.firstDayOfWeek).getTime()},getEndTime:function(t){var i=M.extractPeriod(this.categoryAxis.minPeriod);return M.changeDate(new Date(t),i.period,i.count,!0).getTime()-1},updateMargins:function(){M.AmSerialChart.base.updateMargins.call(this);var t=this.chartScrollbar;t&&(this.getScrollbarPosition(t,this.rotate,this.categoryAxis.position),this.adjustMargins(t,this.rotate)),(t=this.valueScrollbar)&&(this.getScrollbarPosition(t,!this.rotate,this.valueAxes[0].position),this.adjustMargins(t,!this.rotate))},updateScrollbars:function(){M.AmSerialChart.base.updateScrollbars.call(this),this.updateChartScrollbar(this.chartScrollbar,this.rotate),this.updateChartScrollbar(this.valueScrollbar,!this.rotate)},zoom:function(t,i){var e=this.categoryAxis;e.parseDates&&!e.equalSpacing?(this.timeZoom(t,i),isNaN(t)&&this.zoomOutValueAxes()):this.indexZoom(t,i),(e=this.chartCursor)&&!e.pan&&e.hideCursorReal(),this.updateLegendValues()},timeZoom:function(t,i){var e,a,s,o,h=this.maxSelectedTime,r=(isNaN(h)||(t=i!=this.endTime&&h<i-t?i-h:t)!=this.startTime&&h<i-t&&(i=t+h),this.minSelectedTime);0<r&&i-t<r&&(t=(e=Math.round(t+(i-t)/2))-(r=Math.round(r/2)),i=e+r),r=this.chartData,e=this.categoryAxis,!M.ifArray(r)||t==this.startTime&&i==this.endTime||(a=e.minDuration(),s=this.firstTime,(i=(i=(o=this.lastTime)<(i=(i=i||o)<s?s:i)?o:i)<(t=(t=o<(t=t||(t=s,isNaN(h))?t:o-h)?o:t)<s?s:t)?t+a:i)-t<a/5&&(i<o?i=t+a/5:t=i-a/5),this.startTime=t,this.endTime=i,h=r.length-1,a=this.getClosestIndex(r,"time",t,!0,0,h),r=this.getClosestIndex(r,"time",i,!1,a,h),e.timeZoom(t,i),e.zoom(a,r),this.start=M.fitToBounds(a,0,h),this.end=M.fitToBounds(r,0,h),this.zoomAxesAndGraphs(),this.zoomScrollbar(),this.fixCursor(),this.showZB(),this.syncGrid(),this.updateColumnsDepth(),this.dispatchTimeZoomEvent())},showZB:function(){var t,i=this.categoryAxis;i&&i.parseDates&&!i.equalSpacing&&(this.startTime>this.firstTime&&(t=!0),this.endTime<this.lastTime)&&(t=!0),0<this.start&&(t=!0),this.end<this.chartData.length-1&&(t=!0),(i=this.valueAxes)&&(i=i[0],isNaN(i.relativeStart)||(0!==M.roundTo(i.relativeStart,3)&&(t=!0),1!=M.roundTo(i.relativeEnd,3)&&(t=!0))),M.AmSerialChart.base.showZB.call(this,t)},updateAfterValueZoom:function(){M.AmSerialChart.base.updateAfterValueZoom.call(this),this.updateColumnsDepth()},indexZoom:function(t,i){var e,a=this.maxSelectedSeries,s=!1;isNaN(a)||(i!=this.end&&a<i-t&&(t=i-a,s=!0),t!=this.start&&a<i-t&&(i=t+a,s=!0)),(s=s&&this.chartScrollbar)&&s.dragger&&(e=s.dragger.getBBox(),s.maxWidth=e.width,s.maxHeight=e.height),t==this.start&&i==this.end||(s=this.chartData.length-1,isNaN(t)&&(t=0,isNaN(a)||(t=s-a)),s<(i=(i=isNaN(i)?s:i)<t?t:i)&&(i=s),this.start=t=(t=s<t?s-1:t)<0?0:t,this.end=i,this.categoryAxis.zoom(t,i),this.zoomAxesAndGraphs(),this.zoomScrollbar(),this.fixCursor(),0!==t||i!=this.chartData.length-1?this.showZB(!0):this.showZB(!1),this.syncGrid(),this.updateColumnsDepth(),this.dispatchIndexZoomEvent())},updateGraphs:function(){M.AmSerialChart.base.updateGraphs.call(this);for(var t=this.graphs,i=0;i<t.length;i++){var e=t[i];e.columnWidthReal=this.columnWidth,e.categoryAxis=this.categoryAxis,M.isString(e.fillToGraph)&&(e.fillToGraph=this.graphsById[e.fillToGraph])}},zoomAxesAndGraphs:function(){M.AmSerialChart.base.zoomAxesAndGraphs.call(this),this.updateColumnsDepth()},updateColumnsDepth:function(){if(0!==this.depth3D||0!==this.angle){var t,i=this.graphs;for(this.columnsArray=[],t=0;t<i.length;t++){var e,a=(e=i[t]).columnsArray;if(a)for(var s=0;s<a.length;s++)this.columnsArray.push(a[s])}if(this.columnsArray.sort(this.compareDepth),i=this.columnsSet,0<this.columnsArray.length){for(a=this.container.set(),this.columnSet.push(a),t=0;t<this.columnsArray.length;t++)a.push(this.columnsArray[t].column.set);e&&a.translate(e.x,e.y),this.columnsSet=a}M.remove(i)}},compareDepth:function(t,i){return t.depth>i.depth?1:-1},zoomScrollbar:function(){var t,i=this.chartScrollbar,e=this.categoryAxis;i&&(this.zoomedByScrollbar||(t=i.dragger)&&t.stop(),this.zoomedByScrollbar=!1,e.parseDates&&!e.equalSpacing?i.timeZoom(this.startTime,this.endTime):i.zoom(this.start,this.end)),this.zoomValueScrollbar(this.valueScrollbar)},updateTrendLines:function(){for(var t=this.trendLines,i=0;i<t.length;i++){var e=t[i],e=M.processObject(e,M.TrendLine,this.theme);(t[i]=e).chart=this,e.id||(e.id="trendLineAuto"+i+"_"+(new Date).getTime()),M.isString(e.valueAxis)&&(e.valueAxis=this.getValueAxisById(e.valueAxis)),e.valueAxis||(e.valueAxis=this.valueAxes[0]),e.categoryAxis=this.categoryAxis}},countColumns:function(){for(var t,i,e=0,a=this.valueAxes.length,s=this.graphs.length,o=!1,h=0;h<a;h++){var r,n=(r=this.valueAxes[h]).stackType,l=0;if("100%"==n||"regular"==n)for(o=!1,i=0;i<s;i++)(t=this.graphs[i]).tcc=1,t.valueAxis==r&&"column"==t.type&&(!o&&t.stackable&&(e++,o=!0),(!t.stackable&&t.clustered||t.newStack&&0!==l)&&e++,t.columnIndex=e-1,t.clustered||(t.columnIndex=0),l++);if("none"==n||"3d"==n){for(o=!1,i=0;i<s;i++)(t=this.graphs[i]).valueAxis==r&&"column"==t.type&&(t.clustered?(t.tcc=1,t.newStack&&(e=0),t.hidden||(t.columnIndex=e,e++)):t.hidden||(o=!0,t.tcc=1,t.columnIndex=0));o&&0===e&&(e=1)}if("3d"==n){for(r=1,h=0;h<s;h++)(t=this.graphs[h]).newStack&&r++,t.depthCount=r,t.tcc=e;e=r}}return e},parseData:function(){M.AmSerialChart.base.parseData.call(this),this.parseSerialData(this.dataProvider)},getCategoryIndexByValue:function(t){for(var i=this.chartData,e=0;e<i.length;e++)if(i[e].category==t)return e},handleScrollbarZoom:function(t){this.zoomedByScrollbar=!0,this.zoom(t.start,t.end)},dispatchTimeZoomEvent:function(){var t,i,e;!this.drawGraphs||this.prevStartTime==this.startTime&&this.prevEndTime==this.endTime||((t={type:"zoomed"}).startDate=new Date(this.startTime),t.endDate=new Date(this.endTime),t.startIndex=this.start,t.endIndex=this.end,this.startIndex=this.start,this.endIndex=this.end,this.startDate=t.startDate,this.endDate=t.endDate,this.prevStartTime=this.startTime,this.prevEndTime=this.endTime,e=this.categoryAxis,i=M.extractPeriod(e.minPeriod).period,e=e.dateFormatsObject[i],t.startValue=M.formatDate(t.startDate,e,this),t.endValue=M.formatDate(t.endDate,e,this),t.chart=this,(t.target=this).fire(t))},dispatchIndexZoomEvent:function(){var t,i;!this.drawGraphs||this.prevStartIndex==this.start&&this.prevEndIndex==this.end||(this.startIndex=this.start,this.endIndex=this.end,t=this.chartData,!M.ifArray(t))||isNaN(this.start)||isNaN(this.end)||((i={chart:this,target:this,type:"zoomed"}).startIndex=this.start,i.endIndex=this.end,i.startValue=t[this.start].category,i.endValue=t[this.end].category,this.categoryAxis.parseDates&&(this.startTime=t[this.start].time,this.endTime=t[this.end].time,i.startDate=new Date(this.startTime),i.endDate=new Date(this.endTime)),this.prevStartIndex=this.start,this.prevEndIndex=this.end,this.fire(i))},updateLegendValues:function(){this.legend&&this.legend.updateValues()},getClosestIndex:function(t,i,e,a,s,o){o>t.length-1&&(o=t.length-1);var h=(s=s<0?0:s)+Math.round((o-s)/2),r=t[h][i];return e==r?h:o-s<=1?a||Math.abs(t[s][i]-e)<Math.abs(t[o][i]-e)?s:o:e==r?h:e<r?this.getClosestIndex(t,i,e,a,s,h):this.getClosestIndex(t,i,e,a,h,o)},zoomToIndexes:function(t,i){var e,a=this.chartData;a&&0<(e=a.length)&&(t<0&&(t=0),e-1<i&&(i=e-1),(e=this.categoryAxis).parseDates&&!e.equalSpacing?this.zoom(a[t].time,this.getEndTime(a[i].time)):this.zoom(t,i))},zoomToDates:function(t,i){var e,a=this.chartData;a&&(this.categoryAxis.equalSpacing?(e=this.getClosestIndex(a,"time",t.getTime(),!0,0,a.length),i=M.resetDateToMin(i,this.categoryAxis.minPeriod,1),a=this.getClosestIndex(a,"time",i.getTime(),!1,0,a.length),this.zoom(e,a)):this.zoom(t.getTime(),i.getTime()))},zoomToCategoryValues:function(t,i){this.chartData&&this.zoom(this.getCategoryIndexByValue(t),this.getCategoryIndexByValue(i))},formatPeriodString:function(t,i){if(i){i.periodDataItem={},i.periodPercentDataItem={};for(var e=["value","open","low","high","close"],a="value open low high close average sum count".split(" "),s=i.valueAxis,o=this.chartData,h=(h=i.numberFormatter)||this.nf,r=0;r<e.length;r++){for(var n,l,d,u,c,m,g,p,f,x,v=e[r],b=0,A=0,C=0,T=0,y=this.start;y<=this.end;y++){var D,S,N=o[y];N&&(D=N.axes[s.id].graphs[i.id])&&(D.values&&(S=D.values[v],N=N.x.categoryAxis,this.rotate?(N<0||N>D.graph.height)&&(S=NaN):(N<0||N>D.graph.width)&&(S=NaN),isNaN(S)||(isNaN(n)&&(n=S),l=S,(isNaN(d)||S<d)&&(d=S),(isNaN(u)||u<S)&&(u=S),c=M.getDecimals(b),N=M.getDecimals(S),b+=S,c=(b=M.roundTo(b,Math.max(c,N)))/++A)),D.percents)&&(D=D.percents[v],!isNaN(D))&&(isNaN(m)&&(m=D),g=D,(isNaN(p)||D<p)&&(p=D),(isNaN(f)||f<D)&&(f=D),x=M.getDecimals(C),S=M.getDecimals(D),C+=D,x=(C=M.roundTo(C,Math.max(x,S)))/++T)}C={open:m,close:g,high:f,low:p,average:x,sum:C,count:T},t=M.formatValue(t,b={open:n,close:l,high:u,low:d,average:c,sum:b,count:A},a,h,v+"\\.",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers),t=M.formatValue(t,C,a,this.pf,"percents\\."+v+"\\."),i.periodDataItem[v]=b,i.periodPercentDataItem[v]=C}}return M.cleanFromEmpty(t)},formatString:function(t,i,e){var a,s,o,h;if(i)return a=i.graph,void 0!==t&&(-1!=t.indexOf("[[category]]")&&(s=i.serialDataItem.category,this.categoryAxis.parseDates&&(o=this.balloonDateFormat,(h=this.chartCursor)&&h.categoryBalloonDateFormat&&(o=h.categoryBalloonDateFormat),s=o=-1!=(o=M.formatDate(s,o,this)).indexOf("fff")?M.formatMilliseconds(o,s):o),t=t.replace(/\[\[category\]\]/g,String(s.replace("$","$$$")))),s=(s=a.numberFormatter)||this.nf,(h=(o=i.graph.valueAxis).duration)&&!isNaN(i.values.value)&&(h=M.formatDuration(i.values.value,h,"",o.durationUnits,o.maxInterval,s),t=t.replace(RegExp("\\[\\[value\\]\\]","g"),h)),"date"==o.type&&(o=M.formatDate(new Date(i.values.value),a.dateFormat,this),h=RegExp("\\[\\[value\\]\\]","g"),t=t.replace(h,o),o=M.formatDate(new Date(i.values.open),a.dateFormat,this),h=RegExp("\\[\\[open\\]\\]","g"),t=t.replace(h,o)),a="value open low high close total".split(" "),o=this.pf,t=M.formatValue(t,i.percents,a,o,"percents\\."),t=M.formatValue(t,i.values,a,s,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers),-1!=(t=-1!=(t=M.formatValue(t,i.values,["percents"],o)).indexOf("[[")?M.formatDataContextValue(t,i.dataContext):t).indexOf("[[")&&i.graph.customData&&(t=M.formatDataContextValue(t,i.graph.customData)),t=M.AmSerialChart.base.formatString.call(this,t,i,e)),t},updateChartCursor:function(){M.AmSerialChart.base.updateChartCursor.call(this);var t=this.chartCursor,i=this.categoryAxis;if(t){var e=t.categoryBalloonAlpha,a=t.categoryBalloonColor,s=t.color,o=(void 0===a&&(a=t.cursorColor),t.valueZoomable),h=t.zoomable,r=t.valueLineEnabled;if(this.rotate?(t.vLineEnabled=r,t.hZoomEnabled=o,t.vZoomEnabled=h):(t.hLineEnabled=r,t.vZoomEnabled=o,t.hZoomEnabled=h),t.valueLineBalloonEnabled)for(r=0;r<this.valueAxes.length;r++)h=(h=(o=this.valueAxes[r]).balloon)||{},(h=M.extend(h,this.balloon,!0)).fillColor=a,h.balloonColor=a,h.fillAlpha=e,h.borderColor=a,h.color=s,o.balloon=h;else for(h=0;h<this.valueAxes.length;h++)(o=this.valueAxes[h]).balloon&&(o.balloon=null);i&&(i.balloonTextFunction=t.categoryBalloonFunction,(t.categoryLineAxis=i).balloonText=t.categoryBalloonText,t.categoryBalloonEnabled&&(h=(h=i.balloon)||{},(h=M.extend(h,this.balloon,!0)).fillColor=a,h.balloonColor=a,h.fillAlpha=e,h.borderColor=a,h.color=s,i.balloon=h),i.balloon)&&(i.balloon.enabled=t.categoryBalloonEnabled)}},addChartScrollbar:function(t){M.callMethod("destroy",[this.chartScrollbar]),t&&(t.chart=this).listenTo(t,"zoomed",this.handleScrollbarZoom),this.rotate?void 0===t.width&&(t.width=t.scrollbarHeight):void 0===t.height&&(t.height=t.scrollbarHeight),t.gridAxis=this.categoryAxis,this.chartScrollbar=t},addValueScrollbar:function(t){M.callMethod("destroy",[this.valueScrollbar]),t&&((t.chart=this).listenTo(t,"zoomed",this.handleScrollbarValueZoom),this.listenTo(t,"zoomStarted",this.handleCursorZoomStarted));var i=t.scrollbarHeight;this.rotate?void 0===t.height&&(t.height=i):void 0===t.width&&(t.width=i),t.gridAxis||(t.gridAxis=this.valueAxes[0]),t.valueAxes=this.valueAxes,this.valueScrollbar=t},removeChartScrollbar:function(){M.callMethod("destroy",[this.chartScrollbar]),this.chartScrollbar=null},removeValueScrollbar:function(){M.callMethod("destroy",[this.valueScrollbar]),this.valueScrollbar=null},handleReleaseOutside:function(t){M.AmSerialChart.base.handleReleaseOutside.call(this,t),M.callMethod("handleReleaseOutside",[this.chartScrollbar,this.valueScrollbar])},update:function(){M.AmSerialChart.base.update.call(this),this.chartScrollbar&&this.chartScrollbar.update&&this.chartScrollbar.update(),this.valueScrollbar&&this.valueScrollbar.update&&this.valueScrollbar.update()},processScrollbars:function(){M.AmSerialChart.base.processScrollbars.call(this);var t=this.valueScrollbar;t&&((t=M.processObject(t,M.ChartScrollbar,this.theme)).id="valueScrollbar",this.addValueScrollbar(t))},handleValueAxisZoom:function(t){this.handleValueAxisZoomReal(t,this.valueAxes)},zoomOut:function(){M.AmSerialChart.base.zoomOut.call(this),this.zoom(),this.syncGrid()},getNextItem:function(t){var i=t.index,e=this.chartData,a=t.graph;if(i+1<e.length)for(i+=1;i<e.length;i++)if((t=e[i])&&(t=t.axes[a.valueAxis.id].graphs[a.id],!isNaN(t.y)))return t},handleCursorZoomReal:function(t,i,e,a,s){var o,h,r=s.target;this.rotate?(isNaN(t)||isNaN(i)||this.relativeZoomValueAxes(this.valueAxes,t,i)&&this.updateAfterValueZoom(),r.vZoomEnabled&&(o=s.start,h=s.end)):(isNaN(e)||isNaN(a)||this.relativeZoomValueAxes(this.valueAxes,e,a)&&this.updateAfterValueZoom(),r.hZoomEnabled&&(o=s.start,h=s.end)),isNaN(o)||isNaN(h)||((t=this.categoryAxis).parseDates&&!t.equalSpacing?this.zoomToDates(new Date(o),new Date(h)):this.zoomToIndexes(o,h))},handleCursorZoomStarted:function(){var t,i,e=this.valueAxes;e&&(t=(e=e[0]).relativeStart,i=e.relativeEnd,e.reversed&&(t=1-e.relativeEnd,i=1-e.relativeStart),this.rotate?(this.startX0=t,this.endX0=i):(this.startY0=t,this.endY0=i)),this.categoryAxis&&(this.start0=this.start,this.end0=this.end,this.startTime0=this.startTime,this.endTime0=this.endTime)},fixCursor:function(){this.chartCursor&&this.chartCursor.fixPosition(),this.prevCursorItem=null},handleCursorMove:function(t){M.AmSerialChart.base.handleCursorMove.call(this,t);var i=t.target,e=this.categoryAxis;if(t.panning)this.handleCursorHide(t);else if(this.chartData&&!i.isHidden){var a=this.graphs;if(a){var s,o,h=e.xToIndex(this.rotate?t.y:t.x);if(h=this.chartData[h]){if(i.oneBalloonOnly&&i.valueBalloonsEnabled){for(var r=1/0,n=a.length-1;0<=n;n--)if((s=a[n]).balloon.enabled&&s.showBalloon&&!s.hidden){if(l=s.valueAxis.id,l=h.axes[l].graphs[s.id],i.showNextAvailable&&isNaN(l.y)&&!(l=this.getNextItem(l)))continue;l=l.y,"top"==s.showBalloonAt&&(l=0),"bottom"==s.showBalloonAt&&(l=this.height);var l,d=i.mouseX,u=i.mouseY;(l=this.rotate?Math.abs(d-l):Math.abs(u-l))<r&&(r=l,o=s)}i.mostCloseGraph=o}if(this.prevCursorItem!=h||o!=this.prevMostCloseGraph){for(r=[],n=0;n<a.length;n++)l=(s=a[n]).valueAxis.id,l=h.axes[l].graphs[s.id],i.showNextAvailable&&isNaN(l.y)&&!(l=this.getNextItem(l))&&s.balloon?s.balloon.hide():o&&s!=o?(s.showGraphBalloon(l,i.pointer,!1,i.graphBulletSize,i.graphBulletAlpha),s.balloon.hide(0)):i.valueBalloonsEnabled?(s.balloon.showBullet=i.bulletsEnabled,s.balloon.bulletSize=i.bulletSize/2,t.hideBalloons||(s.showGraphBalloon(l,i.pointer,!1,i.graphBulletSize,i.graphBulletAlpha),s.balloon.set&&r.push({balloon:s.balloon,y:s.balloon.pointToY}))):(s.currentDataItem=l,s.resizeBullet(l,i.graphBulletSize,i.graphBulletAlpha));i.avoidBalloonOverlapping&&this.arrangeBalloons(r),this.prevCursorItem=h}this.prevMostCloseGraph=o}}e.showBalloon(t.x,t.y,i.categoryBalloonDateFormat,t.skip),this.updateLegendValues()}},handleCursorHide:function(t){var i;for(M.AmSerialChart.base.handleCursorHide.call(this,t),t=this.categoryAxis,this.prevCursorItem=null,this.updateLegendValues(),t&&t.hideBalloon(),t=this.graphs,i=0;i<t.length;i++)t[i].currentDataItem=null},handleCursorPanning:function(t){var i,e,a,s,o,h,r=t.target,n=t.deltaX,l=t.deltaY,d=t.delta2X,u=t.delta2Y;t=!1,t=this.rotate?(isNaN(d)&&(d=n,t=!0),e=(a=this.endX0)-(i=this.startX0),a-=e*d,M.fitToBounds(i-e*n,0,1-(s=t?e:0))):(isNaN(u)&&(u=l,t=!0),a=this.endY0,a+=(e=a-(i=this.startY0))*l,M.fitToBounds(i+e*u,0,1-(s=t?e:0))),i=M.fitToBounds(a,s,1),r.valueZoomable&&(o=this.relativeZoomValueAxes(this.valueAxes,t,i)),i=this.categoryAxis,this.rotate&&(n=l,d=u),t=!1,isNaN(d)&&(d=n,t=!0),r.zoomable&&(0<Math.abs(n)||0<Math.abs(d))&&(i.parseDates&&!i.equalSpacing?(u=this.startTime0,d*=i=(l=this.endTime0)-u,e=this.firstTime,a=this.lastTime,s=t?i:0,t=Math.round(M.fitToBounds(u-i*n,e,a-s)),d=Math.round(M.fitToBounds(l-d,e+s,a)),this.startTime==t&&this.endTime==d||(h={chart:this,target:r,type:"zoomed",start:t,end:d},this.skipZoomed=!0,r.fire(h),this.zoom(t,d),h=!0)):(u=this.start0,i=(l=this.end0)-u,n=Math.round(i*n),d=Math.round(i*d),e=this.chartData.length-1,t=M.fitToBounds(u-n,0,e-(i=t?i:0)),i=M.fitToBounds(l-d,i,e),this.start==t&&this.end==i||(this.skipZoomed=!0,r.fire({chart:this,target:r,type:"zoomed",start:t,end:i}),this.zoom(t,i),h=!0))),!h&&o&&this.updateAfterValueZoom()},arrangeBalloons:function(t){var i=this.plotAreaHeight;t.sort(this.compareY);for(var e,a=this.plotAreaWidth,s=t.length,o=0;o<s;o++)(h=t[o].balloon).setBounds(0,0,a,i),h.restorePrevious(),h.draw(),i=h.yPos-3;for(t.reverse(),o=0;o<s;o++){var h,i=(h=t[o].balloon).bottom,r=h.bottom-h.yPos;0<o&&i-r<e+3&&h.setBounds&&(h.setBounds(0,e+3,a,e+r+3),h.restorePrevious(),h.draw()),h.set&&h.set.show(),e=h.bottom}},compareY:function(t,i){return t.y<i.y?1:-1}})}(),function(){var P=window.AmCharts;P.Cuboid=P.Class({construct:function(t,i,e,a,s,o,h,r,n,l,d,u,c,m,g,p,f){this.set=t.set(),this.container=t,this.h=Math.round(e),this.w=Math.round(i),this.dx=a,this.dy=s,this.colors=o,this.alpha=h,this.bwidth=r,this.bcolor=n,this.balpha=l,this.dashLength=m,this.topRadius=p,this.pattern=g,this.rotate=c,this.bcn=f,c?i<0&&0===d&&(d=180):e<0&&270==d&&(d=90),this.gradientRotation=d,0===a&&0===s&&(this.cornerRadius=u),this.draw()},draw:function(){var t=this.set,i=(t.clear(),this.container),e=i.chart,a=this.w,s=this.h,o=this.dx,h=this.dy,r=this.colors,n=this.alpha,l=this.bwidth,d=this.bcolor,u=this.balpha,c=this.gradientRotation,V=this.cornerRadius,m=this.dashLength,g=this.pattern,p=this.topRadius,f=this.bcn,x=r,v=r;"object"==typeof r&&(x=r[0],v=r[r.length-1]);var b,A,C,T,y,D,S,N,M,W=n;g&&(n=0);var w,B,z,R,O,I,Z,L=this.rotate;for((0<Math.abs(o)||0<Math.abs(h))&&(isNaN(p)?(S=v,v=P.adjustLuminosity(x,-.2),v=P.adjustLuminosity(x,-.2),b=P.polygon(i,[0,o,a+o,a,0],[0,h,h,0,0],v,n,1,d,0,c),0<u&&(M=P.line(i,[0,o,a+o],[0,h,h],d,u,l,m)),(A=P.polygon(i,[0,0,a,a,0],[0,s,s,0,0],v,n,1,d,0,c)).translate(o,h),0<u&&(C=P.line(i,[o,o],[h,h+s],d,u,l,m)),T=P.polygon(i,[0,0,o,o,0],[0,s,s+h,h,0],v,n,1,d,0,c),y=P.polygon(i,[a,a,a+o,a+o,a],[0,s,s+h,h,0],v,n,1,d,0,c),0<u&&(D=P.line(i,[a,a+o,a+o,a],[0,h,s+h,s],d,u,l,m)),v=P.adjustLuminosity(S,.2),S=P.polygon(i,[0,o,a+o,a,0],[s,s+h,s+h,s,s],v,n,1,d,0,c),0<u&&(N=P.line(i,[0,o,a+o],[s,s+h,s+h],d,u,l,m))):(L?(Z=O=s/2,I=a+(v=o/2),B=Math.abs(s/2),w=Math.abs(o/2)):(I=v=a/2,Z=s+(O=h/2)+1,w=Math.abs(a/2),B=Math.abs(h/2)),z=w*p,R=B*p,.1<w&&(b=P.circle(i,w,x,n,l,d,u,!1,B)).translate(v,O),.1<z&&(S=P.circle(i,z,P.adjustLuminosity(x,.5),n,l,d,u,!1,R)).translate(I,Z))),n=W,Math.abs(s)<1&&(s=0),Math.abs(a)<1&&(a=0),!isNaN(p)&&(0<Math.abs(o)||0<Math.abs(h))?(r={fill:r=[x],stroke:d,"stroke-width":l,"stroke-opacity":u,"fill-opacity":n},w=L?(n="M0,0 L"+a+","+(s/2-s/2*p),l=0<a?" A":" B",P.VML?n=(n+=l+Math.round(a-z)+","+Math.round(s/2-R)+","+Math.round(a+z)+","+Math.round(s/2+R)+","+a+",0,"+a+","+s)+" L0,"+s+(l+Math.round(-w))+","+Math.round(s/2-B)+","+Math.round(w)+","+Math.round(s/2+B)+",0,"+s+",0,0":n=n+("A"+z+","+R+",0,0,0,"+a+","+(s-s/2*(1-p))+"L0,"+s)+("A"+w+","+B+",0,0,1,0,0"),90):(n="M0,0 L"+(l=a/2-a/2*p)+","+s,P.VML?n=(n=(n="M0,0 L"+l+","+s)+((l=s<0?" A":" B")+Math.round(a/2-z)+","+Math.round(s-R)+","+Math.round(a/2+z)+","+Math.round(s+R)+",0,"+s+","+a+","+s)+(" L"+a+",0"))+(l+Math.round(a/2+w)+","+Math.round(B)+","+Math.round(a/2-w)+","+Math.round(-B)+","+a+",0,0,0"):n=n+("A"+z+","+R+",0,0,0,"+(a-a/2*(1-p))+","+s+"L"+a+",0")+("A"+w+","+B+",0,0,1,0,0"),180),(i=i.path(n).attr(r)).gradient("linearGradient",[x,P.adjustLuminosity(x,-.3),P.adjustLuminosity(x,-.3),x],w),L?i.translate(o/2,0):i.translate(0,h/2)):i=0===s?P.line(i,[0,a],[0,0],d,u,l,m):0===a?P.line(i,[0,0],[0,s],d,u,l,m):0<V?P.rect(i,a,s,r,n,l,d,u,V,c,m):P.polygon(i,[0,0,a,a,0],[0,s,s,0,0],r,n,l,d,u,c,!1,m),a=isNaN(p)?s<0?[b,M,A,C,T,y,D,S,N,i]:[S,N,A,C,T,y,b,M,D,i]:L?0<a?[b,i,S]:[S,i,b]:s<0?[b,i,S]:[S,i,b],P.setCN(e,i,f+"front"),P.setCN(e,A,f+"back"),P.setCN(e,S,f+"top"),P.setCN(e,b,f+"bottom"),P.setCN(e,T,f+"left"),P.setCN(e,y,f+"right"),b=0;b<a.length;b++)(A=a[b])&&(t.push(A),P.setCN(e,A,f+"element"));g&&i.pattern(g,NaN,e.path)},width:function(t){isNaN(t)&&(t=0),this.w=Math.round(t),this.draw()},height:function(t){isNaN(t)&&(t=0),this.h=Math.round(t),this.draw()},animateHeight:function(t,i){var e=this;e.animationFinished=!1,e.easing=i,e.totalFrames=t*P.updateRate,e.rh=e.h,e.frame=0,e.height(1),setTimeout(function(){e.updateHeight.call(e)},1e3/P.updateRate)},updateHeight:function(){var t=this,i=(t.frame++,t.totalFrames);t.frame<=i?(i=t.easing(0,t.frame,1,t.rh-1,i),t.height(i),window.requestAnimationFrame?window.requestAnimationFrame(function(){t.updateHeight.call(t)}):setTimeout(function(){t.updateHeight.call(t)},1e3/P.updateRate)):(t.height(t.rh),t.animationFinished=!0)},animateWidth:function(t,i){var e=this;e.animationFinished=!1,e.easing=i,e.totalFrames=t*P.updateRate,e.rw=e.w,e.frame=0,e.width(1),setTimeout(function(){e.updateWidth.call(e)},1e3/P.updateRate)},updateWidth:function(){var t=this,i=(t.frame++,t.totalFrames);t.frame<=i?(i=t.easing(0,t.frame,1,t.rw-1,i),t.width(i),window.requestAnimationFrame?window.requestAnimationFrame(function(){t.updateWidth.call(t)}):setTimeout(function(){t.updateWidth.call(t)},1e3/P.updateRate)):(t.width(t.rw),t.animationFinished=!0)}})}(),function(){var N=window.AmCharts;N.CategoryAxis=N.Class({inherits:N.AxisBase,construct:function(t){this.cname="CategoryAxis",N.CategoryAxis.base.construct.call(this,t),this.minPeriod="DD",this.equalSpacing=this.parseDates=!1,this.position="bottom",this.startOnAxis=!1,this.gridPosition="middle",this.safeDistance=30,this.stickBalloonToCategory=!1,N.applyTheme(this,t,this.cname)},draw:function(){N.CategoryAxis.base.draw.call(this),this.generateDFObject();var t=this.chart.chartData;if(this.data=t,this.labelRotationR=this.labelRotation,this.type=null,N.ifArray(t)){var i,e,a,s,o,h,r,n=this.chart,l=("scrollbar"!=this.id?(N.setCN(n,this.set,"category-axis"),N.setCN(n,this.labelsSet,"category-axis"),N.setCN(n,this.axisLine.axisSet,"category-axis")):this.bcn=this.id+"-",this.start),d=this.labelFrequency,u=0,c=this.end-l+1,m=this.gridCountR,g=this.showFirstLabel,p=this.showLastLabel,f="",f=N.extractPeriod(this.minPeriod),x=N.getPeriodDuration(f.period,f.count),v=this.rotate,b=this.firstDayOfWeek,A=this.boldPeriodBeginning,C=(D=N.resetDateToMin(new Date(t[t.length-1].time+1.05*x),this.minPeriod,1,b).getTime(),this.firstTime=n.firstTime,this.endTime>D&&(this.endTime=D),h=this.minorGridEnabled,a=this.gridAlpha,0),T=0;if(this.widthField)for(D=this.start;D<=this.end;D++)(o=this.data[D])&&(r=Number(this.data[D].dataContext[this.widthField]),isNaN(r)||(C+=r,o.widthValue=r));if(this.parseDates&&!this.equalSpacing)this.lastTime=t[t.length-1].time,this.maxTime=N.resetDateToMin(new Date(this.lastTime+1.05*x),this.minPeriod,1,b).getTime(),this.timeDifference=this.endTime-this.startTime,this.parseDatesDraw();else if(this.parseDates){if(this.parseDates&&this.equalSpacing){if(u=this.start,this.startTime=this.data[this.start].time,this.endTime=this.data[this.end].time,this.timeDifference=this.endTime-this.startTime,d=(D=this.choosePeriod(0)).period,e=D.count,(D=N.getPeriodDuration(d,e))<x&&(d=f.period,e=f.count,D=x),a=d,this.currentDateFormat=this.dateFormatsObject[a="WW"==a?"DD":a],this.stepWidth=this.getStepWidth(c),m=Math.ceil(this.timeDifference/D)+1,f=N.resetDateToMin(new Date(this.startTime-D),d,e,b).getTime(),this.cellWidth=this.getStepWidth(c),l=-1,(c=Math.round(f/D))/2==Math.round(c/2)&&(l=-2,f-=D),(c=this.start)/2==Math.round(c/2)&&c--,c<0&&(c=0),(T=this.end+2)>=this.data.length&&(T=this.data.length),t=!1,t=!g,this.previousPos=-1e3,20<this.labelRotationR&&(this.safeDistance=5),r=c,this.data[c].time!=N.resetDateToMin(new Date(this.data[c].time),d,e,b).getTime())for(var x=0,y=f,D=c;D<T;D++)o=this.data[D].time,this.checkPeriodChange(d,e,o,y)&&(2<=++x&&(r=D,D=T),y=o);if(h&&1<e&&(o=this.chooseMinorFrequency(e),N.getPeriodDuration(d,o)),0<this.gridCountR)for(D=c;D<T;D++)o=this.data[D].time,this.checkPeriodChange(d,e,o,f)&&r<=D&&(c=this.getCoordinate(D-this.start),x=h=!1,(h=this.nextPeriod[a]&&(h=this.checkPeriodChange(this.nextPeriod[a],1,o,f,a))&&N.resetDateToMin(new Date(o),this.nextPeriod[a],1,b).getTime()!=o?!1:h)&&this.markPeriodChange?(h=this.dateFormatsObject[this.nextPeriod[a]],x=!0):h=this.dateFormatsObject[a],f=N.formatDate(new Date(o),h,n),(D==l&&!g||D==m&&!p)&&(f=" "),t?t=!1:(A||(x=!1),c-this.previousPos>this.safeDistance*Math.cos(this.labelRotationR*Math.PI/180)&&(this.labelFunction&&(f=this.labelFunction(f,new Date(o),this,d,e,s)),this.boldLabels&&(x=!0),h=(i=new this.axisItemRenderer(this,c,f,void 0,void 0,void 0,void 0,x)).graphics(),this.pushAxisItem(i),h=h.getBBox().width,N.isModern||(h-=c),this.previousPos=c+h)),s=f=o)}}else if(this.cellWidth=this.getStepWidth(c),c<m&&(m=c),u+=this.start,this.stepWidth=this.getStepWidth(c),0<m)for(b=Math.floor(c/m),o=this.chooseMinorFrequency(b),(c=u)/2==Math.round(c/2)&&c--,c<0&&(c=0),A=0,this.widthField&&(c=this.start),this.end-c+1>=this.autoRotateCount&&(this.labelRotationR=this.autoRotateAngle),D=c;D<=this.end+2;D++){if(m=!1,0<=D&&D<this.data.length?(f=(e=this.data[D]).category,m=e.forceShow):f="",h&&!isNaN(o)){if(D/o!=Math.round(D/o)&&!m)continue;D/b==Math.round(D/b)||m||(this.gridAlpha=this.minorGridAlpha,f=void 0)}else if(D/b!=Math.round(D/b)&&!m)continue;c=this.getCoordinate(D-u),m=0,"start"==this.gridPosition&&(c-=this.cellWidth/2,m=this.cellWidth/2),i=!0,s=m,"start"==this.tickPosition&&(i=!1,m=s=0),(D==l&&!g||D==this.end&&!p)&&(f=void 0),Math.round(A/d)!=A/d&&(f=void 0),A++,t=this.cellWidth,v&&(t=NaN,this.ignoreAxisWidth||!n.autoMargins)&&(t="right"==this.position?n.marginRight:n.marginLeft,t-=this.tickLength+10),this.labelFunction&&e&&(f=this.labelFunction(f,e,this)),f=N.fixBrakes(f),x=!1,this.boldLabels&&(x=!0),D>this.end&&"start"==this.tickPosition&&(f=" "),this.rotate&&this.inside&&(m-=2),isNaN(e.widthValue)||(e.percentWidthValue=e.widthValue/C*100,c=T,T+=t=this.rotate?this.height*e.widthValue/C:this.width*e.widthValue/C,m=t/2),(i=new this.axisItemRenderer(this,c,f,i,t,m,void 0,x,s,!1,e.labelColor,e.className)).serialDataItem=e,this.pushAxisItem(i),this.gridAlpha=a}for(D=g=0;D<this.data.length;D++)(o=this.data[D])&&(p=this.parseDates&&!this.equalSpacing?(p=o.time,l=this.cellWidth,"MM"==this.minPeriod&&(l=864e5*N.daysInMonth(new Date(p))*this.stepWidth,o.cellWidth=l),Math.round((p-this.startTime)*this.stepWidth+l/2)):this.getCoordinate(D-u),o.x[this.id]=p);if(this.widthField)for(D=this.start;D<=this.end;D++)l=(o=this.data[D]).widthValue,o.percentWidthValue=l/C*100,g=this.rotate?(p=this.height*l/C/2+g,this.height*l/C+g):(p=this.width*l/C/2+g,this.width*l/C+g),o.x[this.id]=p;for(C=this.guides.length,D=0;D<C;D++)b=h=l=NaN,p=(g=this.guides[D]).above,g.toCategory&&(b=n.getCategoryIndexByValue(g.toCategory),isNaN(b)||(l=this.getCoordinate(b-u),g.expand&&(l+=this.cellWidth/2),i=new this.axisItemRenderer(this,l,"",!0,NaN,NaN,g),this.pushAxisItem(i,p))),g.category&&(b=n.getCategoryIndexByValue(g.category),isNaN(b)||(h=this.getCoordinate(b-u),g.expand&&(h-=this.cellWidth/2),i=new this.axisItemRenderer(this,h,g.label,!0,NaN,b=(l-h)/2,g),this.pushAxisItem(i,p))),A=n.dataDateFormat,g.toDate&&(!A||g.toDate instanceof Date||(g.toDate=g.toDate.toString()+" |"),g.toDate=N.getDate(g.toDate,A),this.equalSpacing?(b=n.getClosestIndex(this.data,"time",g.toDate.getTime(),!1,0,this.data.length-1),isNaN(b)||(l=this.getCoordinate(b-u))):l=(g.toDate.getTime()-this.startTime)*this.stepWidth,i=new this.axisItemRenderer(this,l,"",!0,NaN,NaN,g),this.pushAxisItem(i,p)),g.date&&(!A||g.date instanceof Date||(g.date=g.date.toString()+" |"),g.date=N.getDate(g.date,A),this.equalSpacing?(b=n.getClosestIndex(this.data,"time",g.date.getTime(),!1,0,this.data.length-1),isNaN(b)||(h=this.getCoordinate(b-u))):h=(g.date.getTime()-this.startTime)*this.stepWidth,b=(l-h)/2,i=!0,g.toDate&&(i=!1),i="H"==this.orientation?new this.axisItemRenderer(this,h,g.label,i,2*b,NaN,g):new this.axisItemRenderer(this,h,g.label,!1,NaN,b,g),this.pushAxisItem(i,p)),i&&(b=i.label)&&this.addEventListeners(b,g),(0<l||0<h)&&(b=!1,this.rotate?(l<this.height||h<this.height)&&(b=!0):(l<this.width||h<this.width)&&(b=!0),b)&&(h=(l=new this.guideFillRenderer(this,h,l,g)).graphics(),this.pushAxisItem(l,p),(g.graphics=h).index=D,this.addEventListeners(h,g));(n=n.chartCursor)&&(v?n.fixHeight(this.cellWidth):(n.fixWidth(this.cellWidth),n.fullWidth&&this.balloon&&(this.balloon.minWidth=this.cellWidth))),this.previousHeight=S}this.axisCreated=!0,this.set.translate(this.x,this.y),this.labelsSet.translate(this.x,this.y),this.labelsSet.show(),this.positionTitle(),(v=this.axisLine.set)&&v.toFront();var S=this.getBBox().height;2<S-this.previousHeight&&this.autoWrap&&!this.parseDates&&(this.axisCreated=this.chart.marginsUpdated=!1)},xToIndex:function(t){var i,e,a=this.data,s=this.chart,o=s.rotate,h=this.stepWidth;if(this.parseDates&&!this.equalSpacing)t=this.startTime+Math.round(t/h)-this.minDuration()/2,i=s.getClosestIndex(a,"time",t,!1,this.start,this.end+1);else if(this.widthField)for(s=1/0,h=this.start;h<=this.end;h++){var r=this.data[h];r&&(r=Math.abs(r.x[this.id]-t))<s&&(s=r,i=h)}else this.startOnAxis||(t-=h/2),i=this.start+Math.round(t/h);return a[i=N.fitToBounds(i,0,a.length-1)]&&(e=a[i].x[this.id]),o?e>this.height+1&&i--:e>this.width+1&&i--,e<0&&i++,N.fitToBounds(i,0,a.length-1)},dateToCoordinate:function(t){return this.parseDates&&!this.equalSpacing?(t.getTime()-this.startTime)*this.stepWidth:this.parseDates&&this.equalSpacing?(t=this.chart.getClosestIndex(this.data,"time",t.getTime(),!1,0,this.data.length-1),this.getCoordinate(t-this.start)):NaN},categoryToCoordinate:function(t){return this.chart?this.parseDates?this.dateToCoordinate(new Date(t)):(t=this.chart.getCategoryIndexByValue(t),isNaN(t)?void 0:this.getCoordinate(t-this.start)):NaN},coordinateToDate:function(t){return this.equalSpacing?(t=this.xToIndex(t),new Date(this.data[t].time)):new Date(this.startTime+t/this.stepWidth)},coordinateToValue:function(t){if(t=this.xToIndex(t),t=this.data[t])return this.parseDates?t.time:t.category},getCoordinate:function(t){return t*=this.stepWidth,this.startOnAxis||(t+=this.stepWidth/2),Math.round(t)},formatValue:function(t,i){return i=i||this.currentDateFormat,t=this.parseDates?N.formatDate(new Date(t),i,this.chart):t},showBalloonAt:function(t,i){return void 0===i&&(i=this.parseDates?this.dateToCoordinate(new Date(t)):this.categoryToCoordinate(t)),this.adjustBalloonCoordinate(i)},formatBalloonText:function(t,i,e){var a,s="",o="",h=this.chart,r=this.data[i];return r&&(this.parseDates?(s=N.formatDate(r.category,e,h),i=N.changeDate(new Date(r.category),this.minPeriod,1),o=N.formatDate(i,e,h),-1!=s.indexOf("fff")&&(s=N.formatMilliseconds(s,r.category),o=N.formatMilliseconds(o,i))):(this.data[i+1]&&(a=this.data[i+1]),s=N.fixNewLines(r.category),a&&(o=N.fixNewLines(a.category)))),(t=t.replace(/\[\[category\]\]/g,String(s))).replace(/\[\[toCategory\]\]/g,String(o))},adjustBalloonCoordinate:function(t,i){var e,a,s,o,h=this.xToIndex(t),r=this.chart.chartCursor;return this.stickBalloonToCategory&&((e=this.data[h])&&(t=e.x[this.id]+1),this.stickBalloonToStart&&(t-=this.cellWidth/2),a=0,r)&&((s=r.limitToGraph)&&(o=s.valueAxis.id,s.hidden||(a=e.axes[o].graphs[s.id].y)),this.rotate?("left"==this.position?(s&&(a-=r.width),0<a&&(a=0)):a<0&&(a=0),r.fixHLine(t,a)):("top"==this.position?(s&&(a-=r.height),0<a&&(a=0)):a<0&&(a=0),r.fixVLine(t,a))),r&&!i&&(r.setIndex(h),this.parseDates)&&r.setTimestamp(this.coordinateToDate(t).getTime()),t}})}();